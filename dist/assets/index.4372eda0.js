import{r as d,o as p,c as v,w as k,a as o,b as u,d as l,e as y,f as b,F as w,m as _,t as c,g as I,h as $,i as N,j as x}from"./vendor.158205c7.js";const H=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(t){if(t.ep)return;t.ep=!0;const s=r(t);fetch(t.href,s)}};H();var L="/icons/logo.svg",h=(e,a)=>{const r=e.__vccOpts||e;for(const[n,t]of a)r[n]=t;return r};const C={},S=o("img",{src:L,alt:"rema1000 logo"},null,-1);function O(e,a,r,n,t,s){const i=d("RouterLink");return p(),v(i,{to:{name:"home"}},{default:k(()=>[S]),_:1})}var g=h(C,[["render",O]]),F="/icons/information.svg",A="/icons/close.svg";const J={data(){return{clicked:!1}},components:{Logo:g},methods:{displayInformation(){this.clicked=!this.clicked}}},R={class:"header"},T={class:"header__information"},D={key:0,class:"header__information-content"},E=b('<h2 class="header__information-title">HVA GJ\xD8R DENNE NETTSIDEN?</h2><p class="header__information-paragraph">Denne nettsiden viser deg alle 661 Rema1000 butikker i hele Norge! </p><p class="header__information-paragraph">Ved \xE5 trykke/hovre over en stedstag vil informasjon om \xE5pningstid, adresse og mail for mulighet til \xE5 kontakte butikken, vises opp i et lite vindu (hover) og \xF8verst p\xE5 siden (klikk p\xE5 tag)</p><p class="header__information-paragraph">Nettsiden bruker data fra <a href="https://apiportal.rema.no/" class="informationCard__paragraph--link">Rema1000 sitt API</a></p>',4);function M(e,a,r,n,t,s){const i=d("Logo");return p(),u("header",R,[l(i),o("div",T,[o("img",{onClick:a[0]||(a[0]=(...m)=>s.displayInformation&&s.displayInformation(...m)),src:F,alt:"information icon",class:"header__information__icon"}),t.clicked?(p(),u("section",D,[o("img",{src:A,alt:"close icon",class:"header__information-close",onClick:a[1]||(a[1]=(...m)=>s.displayInformation&&s.displayInformation(...m))}),E])):y("",!0)])])}var j=h(J,[["render",M]]);const P={components:{Logo:g}},U={class:"footer"},V=o("p",null,"Oversikt over alle Rema1000 i Norge",-1),z=o("a",{href:"https://www.rema.no/",class:"footer__link"},"G\xE5 til hovednettside \u2197",-1);function Z(e,a,r,n,t,s){const i=d("Logo");return p(),u("div",U,[l(i),V,z])}var B=h(P,[["render",Z]]);const G={components:{Header:j,Footer:B}};function W(e,a,r,n,t,s){const i=d("Header"),m=d("RouterView"),f=d("Footer");return p(),u(w,null,[l(i),l(m),l(f)],64)}var K=h(G,[["render",W]]),Y={state(){}},q="/icons/location.svg",Q="/icons/openingHours.svg",X="/icons/phone.svg",ee="/icons/post.svg";const te={data(){return{title:"Rema1000 oversikt",lead:"Her kan du finne alle Rema1000 butikker i Norge, samt adresse, dagens \xE5pningstid og nummer. Klikk eller pek p\xE5 en plasseringstag for \xE5 se informasjon",mapbox_token:"pk.eyJ1IjoibHN0dWJkYWwiLCJhIjoiY2wwZ2ZpYmszMTJoMTNibnkxdGN5aHZwbCJ9.ykXNg8DZ6siiQwiqHZg6ng",storeName:"",address:"",openingHours:"",websiteLink:"",phone:"",postInStore:"",storeData:[],storeFeatures:[]}},created(){this.pageSetup()},computed:{getCurrentDay(){switch(new Date().getDay()){case 0:return"sunday";case 1:return"monday";case 2:return"tuesday";case 3:return"wednesday";case 4:return"thursday";case 5:return"friday";case 6:return"saturday"}}},methods:{async pageSetup(){const e=`https://api.allorigins.win/get?url=${encodeURIComponent("https://rema.no/api/v2/stores")}`,r=await fetch(e,{"Access-Control-Allow-Origin":"*"}),{contents:n}=await r.json(),t=JSON.parse(n);this.storeData=t.results,this.getTodaysOpeningHour(),this.createJsonObjects(),this.displayMap()},displayMap(){_.accessToken=this.mapbox_token;const e=new _.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[11.9413731,65.1928539],zoom:4});this.createMarker(e),this.addZoomButtons(e),this.addUserLocation(e)},createJsonObjects(){this.storeFeatures=this.storeData.map(e=>({type:"Feature",properties:{name:e.name,address:e.visitAddress,openingHours:e.openingHours,website:e.detailUrl,phone:e.phone,postInStore:e.postInStore,iconSize:[24,30]},geometry:{type:"Point",coordinates:[e.longitude,e.latitude]}}))},createMarker(e){({type:"FeaturesCollection",features:this.storeFeatures}).features.forEach(r=>{const n=document.createElement("div"),t=r.properties.iconSize[0],s=r.properties.iconSize[1];n.className="map__marker",n.style.backgroundImage="url(./icons/locationTag.svg)",n.style.width=`${t}px`,n.style.height=`${s}px`,n.style.backgroundSize="100%",n.addEventListener("click",()=>{this.onClickUpdateInfo(r)}),n.addEventListener("mouseenter",()=>{new _.Popup({closeOnClick:!1}).setLngLat(r.geometry.coordinates).setHTML(`<h1>${r.properties.name}</h1>`).addTo(e)}),new _.Marker(n).setLngLat(r.geometry.coordinates).addTo(e)})},onClickUpdateInfo(e){this.storeName=e.properties.name,this.address=e.properties.address,this.openingHours=e.properties.openingHours,this.phone=e.properties.phone,this.websiteLink=e.properties.website,this.postInStore=e.properties.postInStore==="false"?"Nei":"Ja",window.scrollTo(0,0)},getTodaysOpeningHour(){},addZoomButtons(e){e.addControl(new _.NavigationControl)},addUserLocation(e){e.addControl(new _.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,showUserHeading:!0}))}}},oe={class:"dashboard"},se={class:"dashboard__headline"},ne={class:"dashboard__title"},re=o("span",{class:"dashboard__line"},null,-1),ae={class:"dashboard__lead"},ie={class:"dashboard__main"},ce={class:"dashboard__storeName"},de={class:"storeInformation"},_e={class:"storeInformation__details"},le=o("img",{src:q,alt:"location icon"},null,-1),pe=o("span",{class:"storeInformation__detail"},"Adresse:",-1),me={class:"storeInformation__text"},ue={class:"storeInformation__details"},he=o("img",{src:Q,alt:"openingHours icon"},null,-1),ge=o("span",{class:"storeInformation__detail"},"\xC5pnignstider:",-1),fe={class:"storeInformation__text"},ve={class:"storeInformation__details"},ke=o("img",{src:X,alt:"phone icon"},null,-1),ye=o("span",{class:"storeInformation__detail"},"Phone:",-1),be={class:"storeInformation__text"},we={class:"storeInformation__details"},Ie=o("img",{src:ee,alt:"post icon"},null,-1),$e=o("span",{class:"storeInformation__detail"},"Post in store:",-1),Ne={class:"storeInformation__text"},xe=o("div",{class:"map",id:"map"},null,-1),He=o("span",{class:"map__text"},"Klikk og dra for \xE5 g\xE5 rundt p\xE5 kartet, og zoom inn/ut",-1);function Le(e,a,r,n,t,s){const i=d("Footer");return p(),u("div",oe,[o("div",se,[o("h1",ne,c(t.title),1),re,o("p",ae,c(t.lead),1)]),o("main",ie,[o("h2",ce,c(t.storeName),1),o("section",de,[o("div",_e,[le,pe,o("p",me,c(t.address),1)]),o("div",ue,[he,ge,o("p",fe,c(t.openingHours),1)]),o("div",ve,[ke,ye,o("p",be,c(t.phone),1)]),o("div",we,[Ie,$e,o("p",Ne,c(t.postInStore),1)])]),xe,He]),l(i)])}var Ce=h(te,[["render",Le]]),Se=[{name:"home",path:"/",component:Ce}];const Oe=I(Y),Fe=$({routes:Se,history:N()});x(K).use(Oe).use(Fe).mount("#app");
